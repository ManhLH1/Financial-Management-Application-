// TEST SCRIPT: Kiá»ƒm tra xem cÃ³ táº¡o nhiá»u spreadsheets khÃ´ng
// Run: node test-spreadsheet-creation.js

const GOOGLE_DRIVE_API = 'https://www.googleapis.com/drive/v3/files'

console.log('ğŸ“‹ HÆ¯á»šNG DáºªN TEST:')
console.log('================')
console.log('')
console.log('1. Má» BROWSER:')
console.log('   http://localhost:3000')
console.log('')
console.log('2. Má» DEVTOOLS (F12):')
console.log('   - Console tab')
console.log('   - Network tab')
console.log('')
console.log('3. LOGIN Vá»šI GOOGLE')
console.log('')
console.log('4. QUAN SÃT LOGS TRONG TERMINAL:')
console.log('')
console.log('   âœ… SUCCESS (Chá»‰ táº¡o 1 file):')
console.log('   - ğŸ” [getOrCreateSpreadsheet] Acquired lock for user@email.com')
console.log('   - âœ… Created new spreadsheet: [ID]')
console.log('   - ğŸ’¾ Saved spreadsheet mapping')
console.log('   - â³ [getOrCreateSpreadsheet] Another request is waiting...')
console.log('   - âœ… [getOrCreateSpreadsheet] Got spreadsheet from concurrent request')
console.log('')
console.log('   âŒ FAIL (Táº¡o nhiá»u files):')
console.log('   - Tháº¥y NHIá»€U dÃ²ng "ğŸ” Acquired lock" cho cÃ¹ng 1 user')
console.log('   - Tháº¥y NHIá»€U dÃ²ng "âœ… Created new spreadsheet"')
console.log('')
console.log('5. CHECK GOOGLE DRIVE:')
console.log('   https://drive.google.com/drive/my-drive')
console.log('   - Search: "FinTrack"')
console.log('   - Chá»‰ nÃªn tháº¥y 1 file má»›i')
console.log('')
console.log('6. CHECK MAPPING FILE:')
console.log('   PowerShell: Get-Content .data\\spreadsheets.json | ConvertFrom-Json')
console.log('   Expected: { "your-email@gmail.com": "spreadsheet-id" }')
console.log('')
console.log('================')
console.log('ğŸ¯ Káº¾T QUáº¢ MONG Äá»¢I:')
console.log('- Chá»‰ 1 file Ä‘Æ°á»£c táº¡o')
console.log('- Requests sau Ä‘á»£i request Ä‘áº§u tiÃªn')
console.log('- Mapping file Ä‘Æ°á»£c táº¡o trong .data/')
console.log('- KhÃ´ng cÃ³ errors vá» Deleted_Log sheet')
console.log('')
